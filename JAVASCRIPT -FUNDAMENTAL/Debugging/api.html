<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>API Example</title>
</head>

<body>
    <h1>API Data Fetch Example</h1>
    <button id="fetchData">Fetch Data</button>
    <div id="output"></div>

    <script>

        // async function fetchData() {

        //     try {

        //         const response = await fetch('https://jsonplaceholder.typicode.com/todos/1')
        //         const user = await response.json();
        //         // console.log(user);
        //         document.getElementById('output').innerText = JSON.stringify(user, null, 2);
        //     }
        //     catch (error) {
        //         // console.log(" this is error", error);
        //         document.getElementById('output').innerText = `Error: ${error.message}`;
        //     }
        //     document.getElementById('fetchData').addEventListener('click', fetchData);

        // }
        // fetchData();



        fetch("https://api.publicapis.org/entries", {
            method: 'GET',
        })
            .then((response) => {
                if (response.ok) {
                    return response.json()
                }
                else {
                    response.json()
                        .then((data) => {
                            throw new Error(data.error || "error in response")

                        })
                        .catch(error => {
                            console.log("Error in JSON ,", error);

                        })
                }

            })
            .then((msg) => {
                if (msg) {
                    console.log(msg.data)
                }
            })
            .catch((error) => {
                console.error("This key Not Founf", error);

            })
    </script>

</html>